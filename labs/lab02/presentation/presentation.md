---
## Front matter
lang: ru-RU
title: Управление пользователями и группами
subtitle: Часть 1
author:
  - Славинский В.В.
institute:
  - Российский университет дружбы народов, Москва, Россия Россия
date: 13 сентября 2025

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
---

# Информация

## Докладчик

:::::::::::::: {.columns align=center}
::: {.column width="70%"}

  * Славинский Владислав Вадимович
  * Студент
  * Российский университет дружбы народов
  * [1132246169@pfur.ru]

:::
::: {.column width="30%"}

# Вводная часть

## Определение учетной записи

Войдем в систему как обычный пользователь и определим, какую учетную запись пользователя мы используем с помощью команды whoami

![sc1](./image/1.png)

## Вывод подробной информации

Выведем на экран более подробную информацию, используя команду id. У нас есть идентификатор пользователя, идентификатор основной группы, и то что пользователь slavinskiyvv состоит в двух группах, основная "slavinskiyvv" и дополнительная "wheel"

![sc2](./image/2.png)

## Команда id для root 

Используем команду su для переключения к учётной записи root и наберем id. В этом случае, у нас везде стоит 0, так как индентификаторы gid и uid используются в Linux по умолчанию.

![sc3](./image/3.png)

## Просмотр файла

Просмотрим в безопасном режиме файл /etc/sudoers, используя редактор visudo. Для работы с файлом sudoers мы используем именно visudo для предотвращения блокировки системы, visudo делает так, чтобы изменения записывались только если они синтаксически корректны, если обнаружены ошибки, то изменения не применяются, а показывается сообщение об ошибке.

![sc4](./image/4.png)

## Проверка строки

Проверим, присутствует ли в файле строка %wheel ALL=(ALL) ALL. Строка %wheel ALL=(ALL) ALL означает: wheel применяется ко всем пользователям, входящим в группу wheel, ALL разрешает выполнение команд на всех хостах, (ALL) разрешает выполнение команд от имени любого пользователя, последнее ALL разрешает выполение любых команд.

![sc5](./image/5.png)

## Новый пользователь

Создадим пользователя alice, входящего в группу wheel.

![sc6](./image/6.png)

## Проверка группы пользователя

Убедимся, что пользователь alice добавлен в группу wheel, введя команду id alice.

![sc7](./image/7.png)

## Пароль для пользователя

Зададим пароль для пользователя alice.

![sc8](./image/8.png)

## Переключение на другую учетную запись

Переключимся на учётную запись пользователя alice.

![sc9](./image/9.png)

## Создание нового пользователя

Создадим пользователя bob.

![sc10](./image/10.png)

## Пароль пользователя bob

Установим пароль для пользователя bob.

![sc11](./image/11.png)

## Группы пользователя

Посмотрим, в какие группы входит пользователь bob. Пользователь входит в свою собственную группу bob.

![sc12](./image/12.png)

## Открытие конфига

Переключимся в терминале на учётную запись пользователя root, откроем файл конфигурации.

![sc13](./image/13.png)

## Изменение параметров

Изменим несколько параметров CREATE_HOME и USERGROUPS_ENAB. Это нам позволит не добавлять нового пользователя в группу с тем же именем, что и пользователь, а использовать группу users. 

![sc14](./image/14.png)

## Создание каталогов

Создадим каталоги Documents и Pictures в каталоге /etc/skel. Это позволит добавить эти каталоги по умолчанию во все домашние каталоги пользователей.

![sc15](./image/15.png)

## Изменение файла

Изменим содержимое файла .bashrc. Текстовый редактор vim будет установлен по умолчанию для инструментов, которые нуждаются в изменении текстовых файлов.

![sc16](./image/16.png)

## Переключение на alice

Переключимся в терминале на учётную запись пользователя alice.

![sc17](./image/17.png)

## Создание пользователя carol

Используя утилиту useradd, создадим пользователя carol.

![sc18](./image/18.png)

## Установка пароля для carol

Установим пароль для пользователя carol.

![sc19](./image/19.png)

## Информация пользователя

Посмотрим информацию про carol.Теперь мы видим, что carol находится в группе users, а не в собственной группе. Так же каталоги Documents и Pictures были созданы.

![sc20](./image/20.png)

## Переключение на alice

Переключимся в терминале на учётную запись пользователя alice.

![sc21](./image/21.png)

## Информация в строке

В файле  /etc/shadow есть цифры, например 20344 это дата последнего имезениния пароля, 0-это минимальный срок жизни пароля, а 9999-это максимальный срок жизни пароля. Все что идет до цифр, это использование алгоритма SHA-512, защита от атак и результат хеширования. Просмотрели мы при помощи команды sudo cat /etc/shadow | grep carol.

![sc22](./image/22.png)

## Изменение пароля

Изменим свойства пароля пользователя carol с помощью команды:sudo passwd -n 30 -w 3 -x 90 carol.

![sc23](./image/23.png)

## Проверка изменений

Проверим наши изменения с помощью команды sudo cat /etc/shadow | grep carol.

![sc24](./image/24.png)

## Проверка

Убедимся, что идентификатор alice существует во всех трёх файлах: etc/passwd /etc/shadow /etc/group.

![sc25](./image/25.png)

## Идентификатор carol

Но идентификатор carol состоит  не во всех.

![sc26](./image/26.png)

## Создание групп

Находясь под учётной записью пользователя alice, создадим группы main и third.

![sc27](./image/27.png)

## Добавление пользователей в группы

Используем usermod для добавления пользователей alice и bob в группу main,
а carol-в группу third.

![sc28](./image/28.png)

## Группы пользователя carol

Пользователь carol был добавлен в группу third. Получается он состоит в основной группе users и вторичной third.

![sc29](./image/29.png)

## Группы у остальных пользователей

Пользователь alice состоит в основной группе alice, в группе wheel и во вторичной группе main.Пользователь bob состоит в группе bob и во вторичной группе, main.

![sc30](./image/30.png)


